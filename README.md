# Todo List Backend Service

![Language](https://img.shields.io/badge/Language-TypeScript-blue)
![Runtime](https://img.shields.io/badge/Runtime-Node.js-green)
![Framework](https://img.shields.io/badge/Framework-Express_v5-black)
![ORM](https://img.shields.io/badge/ORM-Prisma-white)
![Database](https://img.shields.io/badge/Database-SQLite-blue)
![License](https://img.shields.io/badge/License-MIT-yellow)

> ğŸ¯ **é¡¹ç›®èƒŒæ™¯**: æœ¬é¡¹ç›®æ˜¯æŠ€æœ¯å²—ä½æ ¡æ‹›ç¼–ç¨‹ç¬”è¯•é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚
> ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ª**é«˜å¥å£®æ€§**ã€**å¯ç»´æŠ¤**ã€**å¯æµ‹è¯•**çš„ç°ä»£åŒ–åç«¯ RESTful API æœåŠ¡ã€‚

## ğŸ“– é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº **Node.js** å’Œ **TypeScript** æ„å»ºçš„ Todo List åç«¯åº”ç”¨ã€‚å®ƒä¸ä»…ä»…å®ç°äº†åŸºç¡€çš„ CRUD åŠŸèƒ½ï¼Œæ›´åœ¨**æ¶æ„è®¾è®¡**ã€**ä»£ç è´¨é‡**ã€**å·¥ç¨‹åŒ–è§„èŒƒ**ä¸Šä¸‹äº†æ·±åŠŸå¤«ã€‚

é¡¹ç›®é‡‡ç”¨äº† **åˆ†å±‚æ¶æ„ (Layered Architecture)**ï¼Œé›†æˆäº† **Swagger** åœ¨çº¿æ–‡æ¡£ï¼Œå®ç°äº† **Zod** è¿è¡Œæ—¶å‚æ•°æ ¡éªŒï¼Œå¹¶é…å¤‡äº† **Jest** è‡ªåŠ¨åŒ–é›†æˆæµ‹è¯•ï¼Œæ˜¯ä¸€ä¸ªç”Ÿäº§å°±ç»ªçº§ï¼ˆProduction-Readyï¼‰çš„åç«¯è„šæ‰‹æ¶ã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§ (Key Features)

### âš™ï¸ åŠŸèƒ½å±‚é¢
* **RESTful API æ ‡å‡†**: ä¸¥æ ¼éµå¾ª HTTP è¯­ä¹‰ï¼ˆGET/POST/PATCH/DELETEï¼‰ã€‚
* **é«˜çº§æœç´¢ä¸ç­›é€‰**: æ”¯æŒ `keyword` æ¨¡ç³Šæœç´¢åŠ `isCompleted` çŠ¶æ€è¿‡æ»¤ã€‚
* **ä¼˜å…ˆçº§ç³»ç»Ÿ**: å¼•å…¥ `priority` å­—æ®µ (High/Medium/Low)ï¼Œæ”¯æŒæŒ‰ä¼˜å…ˆçº§åŠ¨æ€æ’åºã€‚
* **æ•°æ®æŒä¹…åŒ–**: é‡‡ç”¨ **SQLite** æ–‡ä»¶æ•°æ®åº“ï¼Œé›¶é…ç½®å¯åŠ¨ï¼Œé€šè¿‡ **Prisma ORM** ç®¡ç†ã€‚

### ğŸ›¡ï¸ å·¥ç¨‹å±‚é¢
* **ç±»å‹å®‰å…¨**: å…¨é“¾è·¯ TypeScript æ”¯æŒï¼Œæœç» `any`ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ã€‚
* **å¥å£®æ€§è®¾è®¡**:
    * **å…¨å±€å¼‚å¸¸å¤„ç† (Global Error Handling)**: ç»Ÿä¸€æ‹¦æˆªæ•°æ®åº“å¼‚å¸¸ä¸æœªçŸ¥é”™è¯¯ï¼Œè¿”å›æ ‡å‡†åŒ–çš„ JSON æ ¼å¼ã€‚
    * **å‚æ•°æ ¡éªŒ (Validation)**: é›†æˆ **Zod**ï¼Œå¯¹è¯·æ±‚å‚æ•°è¿›è¡Œä¸¥æ ¼æ ¡éªŒï¼ˆå¦‚å¿…å¡«é¡¹ã€ç±»å‹è½¬æ¢ã€èŒƒå›´é™åˆ¶ï¼‰ã€‚
* **è‡ªåŠ¨åŒ–æµ‹è¯•**: é›†æˆ **Jest + Supertest**ï¼ŒåŒ…å« Happy Path å’Œ Edge Case çš„ç«¯åˆ°ç«¯ (E2E) æµ‹è¯•ã€‚
* **å¯è§†åŒ–æ–‡æ¡£**: é›†æˆ **Swagger UI**ï¼Œæä¾›äº¤äº’å¼çš„ API è°ƒè¯•ç•Œé¢ã€‚

---

## ğŸ— ç³»ç»Ÿæ¶æ„ (Architecture)
æœ¬é¡¹ç›®é‡‡ç”¨ç»å…¸çš„åˆ†å±‚æ¶æ„ï¼Œå®ç°äº†å…³æ³¨ç‚¹åˆ†ç¦» (SoC)ï¼š

```mermaid
graph LR
    Client[å®¢æˆ·ç«¯/å‰ç«¯] -->|HTTP Request| Server(Server å…¥å£)
    Server --> App(App é…ç½®)
    App --> Middlewares{å…¨å±€ä¸­é—´ä»¶}
    Middlewares -->|Error Handling| ErrorRes[ç»Ÿä¸€é”™è¯¯å“åº”]
    Middlewares --> Router[è·¯ç”±å±‚ Routes]
    Router --> Controller[æ§åˆ¶å±‚ Controllers]
    
    subgraph Business Logic
    Controller -- Zod --> Validation(å‚æ•°æ ¡éªŒ)
    Controller --> Prisma[Prisma Client]
    end
    
    Prisma --> DB[(SQLite Database)]
````

  * **Entry**: `server.ts` è´Ÿè´£å¯åŠ¨ç›‘å¬ï¼Œ`app.ts` è´Ÿè´£åº”ç”¨é…ç½®ï¼ˆåˆ†ç¦»è®¾è®¡ä»¥æ”¯æŒæµ‹è¯•ï¼‰ã€‚
  * **Router**: å®šä¹‰ URL è·¯ç”±è§„åˆ™ï¼Œåˆ†å‘è¯·æ±‚ã€‚
  * **Controller**: å¤„ç†æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œè§£æå‚æ•°ï¼Œå“åº”æ•°æ®ã€‚
  * **Middleware**: `errorHandler` è´Ÿè´£ç»Ÿä¸€å…œåº•æ‰€æœ‰å¼‚å¸¸ã€‚

-----

## ğŸ›  æŠ€æœ¯æ ˆè¯¦æƒ…

| ç±»åˆ« | æŠ€æœ¯/åº“ | é€‰æ‹©ç†ç”± |
| :--- | :--- | :--- |
| **è¯­è¨€** | **TypeScript** | æä¾›é™æ€ç±»å‹æ£€æŸ¥ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ä¸æ™ºèƒ½æç¤ºã€‚ |
| **æ¡†æ¶** | **Express.js (v5)** | é€‰æ‹©æœ€æ–°çš„ v5 ç‰ˆæœ¬ï¼Œåˆ©ç”¨å…¶åŸç”Ÿçš„å¼‚æ­¥é”™è¯¯æ•è·èƒ½åŠ›ï¼Œç²¾ç®€æ¶æ„ã€‚ |
| **ORM** | **Prisma** | ç°ä»£åŒ–çš„ ORMï¼Œæä¾› Type-Safe çš„æ•°æ®åº“æ“ä½œä½“éªŒå’Œè‡ªåŠ¨è¿ç§»åŠŸèƒ½ã€‚ |
| **æ ¡éªŒ** | **Zod** | å£°æ˜å¼çš„ Schema æ ¡éªŒåº“ï¼Œè¿è¡Œæ—¶è§£æå‚æ•°ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§ã€‚ |
| **æµ‹è¯•** | **Jest + Supertest** | è¡Œä¸šæ ‡å‡†çš„æµ‹è¯•æ¡†æ¶ï¼Œæ¨¡æ‹Ÿ HTTP è¯·æ±‚è¿›è¡Œé›†æˆæµ‹è¯•ã€‚ |
| **æ–‡æ¡£** | **Swagger UI** | OpenAPI è§„èŒƒçš„æ–‡æ¡£ç”Ÿæˆå™¨ï¼Œæ–¹ä¾¿å‰åç«¯åä½œã€‚ |

-----

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### 1\. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æœ¬åœ°å·²å®‰è£… [Node.js](https://nodejs.org/) (v14+)ã€‚

### 2\. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3\. æ•°æ®åº“åˆå§‹åŒ–

æ­¤å‘½ä»¤å°†æ ¹æ® Schema ç”Ÿæˆ SQLite æ•°æ®åº“æ–‡ä»¶ (`dev.db`) å¹¶ç”Ÿæˆ Prisma Client ä»£ç ã€‚

```bash
npx prisma generate
npx prisma migrate dev --name init
```

### 4\. è¿è¡Œæµ‹è¯• (å¼ºçƒˆæ¨è)

è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ï¼ŒéªŒè¯ç³»ç»Ÿå®Œæ•´æ€§ã€‚

```bash
npm test
```

### 5\. å¯åŠ¨æœåŠ¡

  * **å¼€å‘æ¨¡å¼ (çƒ­æ›´æ–°)**:
    ```bash
    npm run dev
    ```
  * **ç”Ÿäº§æ„å»º**:
    ```bash
    npm run build
    npm start
    ```

æœåŠ¡å¯åŠ¨åï¼Œæ§åˆ¶å°å°†è¾“å‡ºï¼š

> Server is running on http://localhost:3000

-----

## ğŸ“š æ¥å£æ–‡æ¡£ (API Documentation)

æœåŠ¡å¯åŠ¨åï¼Œè¯·è®¿é—®å¯è§†åŒ–æ–‡æ¡£è¿›è¡Œåœ¨çº¿è°ƒè¯•ï¼š
ğŸ‘‰ **http://localhost:3000/api-docs**

### æ¥å£é¢„è§ˆ

| æ–¹æ³• | è·¯å¾„ | æè¿° | å‚æ•°ç¤ºä¾‹ |
| :--- | :--- | :--- | :--- |
| `GET` | `/api/todos` | è·å–ä»»åŠ¡åˆ—è¡¨ | `?search=ä»£ç &sort=priority` |
| `POST` | `/api/todos` | åˆ›å»ºä»»åŠ¡ | `{"title": "...", "priority": 3}` |
| `PATCH` | `/api/todos/:id` | æ›´æ–°ä»»åŠ¡çŠ¶æ€ | `{"isCompleted": true}` |
| `DELETE` | `/api/todos/:id` | åˆ é™¤ä»»åŠ¡ | - |

-----

## ğŸ“‚ ç›®å½•ç»“æ„è¯´æ˜

```text
root/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma      # æ•°æ®åº“æ¨¡å‹å®šä¹‰ (Source of Truth)
â”‚   â”œâ”€â”€ migrations/        # æ•°æ®åº“è¿ç§»å†å²è®°å½•
â”‚   â””â”€â”€ dev.db             # SQLite æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/       # ä¸šåŠ¡é€»è¾‘å±‚ (æ¥æ”¶è¯·æ±‚, è°ƒç”¨ORM, è¿”å›å“åº”)
â”‚   â”œâ”€â”€ middlewares/       # ä¸­é—´ä»¶ (å¦‚: å…¨å±€é”™è¯¯å¤„ç†å™¨ errorHandler.ts)
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±å±‚ (å®šä¹‰ API URL, å¦‚ todo.routes.ts)
â”‚   â”œâ”€â”€ app.ts             # Express åº”ç”¨å®šä¹‰ (é€»è¾‘æ ¸å¿ƒ, ä¸å«ç›‘å¬)
â”‚   â””â”€â”€ server.ts          # æœåŠ¡å¯åŠ¨å…¥å£ (ç›‘å¬ç«¯å£)
â”œâ”€â”€ tests/                 # è‡ªåŠ¨åŒ–æµ‹è¯•æ–‡ä»¶å¤¹
â”‚   â””â”€â”€ todo.test.ts       # Jest + Supertest é›†æˆæµ‹è¯•è„šæœ¬
â”œâ”€â”€ swagger.yaml           # OpenAPI æ¥å£å®šä¹‰æ–‡ä»¶
â”œâ”€â”€ package.json           # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ tsconfig.json          # TypeScript ç¼–è¯‘é…ç½®
```

## ğŸ“ å¼€å‘æ—¥å¿—

å…³äºé¡¹ç›®çš„è¯¦ç»†å¼€å‘æ€è·¯ã€é‡åˆ°çš„æŠ€æœ¯éš¾ç‚¹åŠè§£å†³æ–¹æ¡ˆç­‰ï¼Œè¯·å‚é˜…ï¼š
ğŸ‘‰ **[å¼€å‘è¿‡ç¨‹æ–‡æ¡£ (DOC.md)](./DOC.md)**

-----

**Author**: å­£å…´è²
**Date**: 2025-11-22
